Release Notes for GAMIT/GLOBK 10.6 

Last updated 12 June 2015
    
----------------------------------------------------------------------

Release 10.6 consolidates incremental updates made since release 
10.50 of July 2013. As noted in the release announcement, this 
release has extensive structural and format changes to accommodate 
GNSS SVs other than GPS.  Of the files in the usual processing flow,
four have changed formats:  svnav.dat, dcb.dat, g-files, and c-files.
The new version will read old-format g-files and dcb.dat files, but
NOT svnav.dat or c-files. We will continue to update old-format 
svnav.dat and dcb.dat files and put them into incremental updates
for another 6 to 12 months with extent 'gps' for user who do not wish 
to move to 10.6 immediately.  There was a flaw in our old-format 
creation of dcb.dat from the AIUB P1C1.DCB files in the time-tagging
and in not correctly accounting for different SVs with the same
PRN numbers during the month.  This error will degrade wide-lane
ambiguity resolution in some cases.   Finally, with the new code,
you'll find differences in the print files for arc and model, but 
unless you read these with your own scripts, these changes will be 
seamless.   
                                       
Whenever you process data beyond the date of the software release, you
MUST update supporting files.  For GAMIT:  svnav.dat and antmod.dat for 
changes in PN assignments; dcb.dat for P1/C1/P2 code biases that affect 
wide-lane ambiguity resolution; station.info for antenna changes at
reference sites; and ut1/pole files for current EOP information. Of these
files, only the EOP files are automatically updated by sh_gamit.  For
GLOBK, you should keep current itrf08_comb.apr and itrf08_comb.eq to
account for improved coordinates and antenna changes and earthquakes at 
reference sites.  Both the GAMIT and GLOBK files are always current in 
incremental_updates/tables and included in any incremental_update tar-file.
                                   
All GAMIT-GLOBK scripts that produce plots (e.g. time series and velocity 
maps) use Generic Mapping Tools (GMT) to do so. The release of GMT 5 in 
November 2013 has necessitated major alterations to the syntax of GMT 
commands in many scripts. The updated scripts, which use GMT 5-compatible 
syntax, are contained in com/ and will be the only ones maintained and 
developed beyond this release of GAMIT-GLOBK. We therefore recommend that 
all users now download and switch to using GMT 5 because the updated scripts 
are NOT backwards-compatible. The old scripts, which may be used with GMT 4 
or prior, are now contained in the com_preGMT5/ directory. Users must 
prepend this directory to their path in order to continue to use GMT 4, e.g. 
$PATH is 
...:$HOME/gg/com_preGMT5:$HOME/gg/com:$HOME/gg/gamit/bin:$HOME/gg/kf/bin:...

For plotting time series, we are transitioning from using VAL and mb 
files produced by ensum and multibase and used by sh_plotcrd or sh_baseline
to PBO-format pos-files produced by tssum and used by sh_plot_pos.  tsview
can still read both mb-files and pos-files.    sh_glred will accept either
'E' (for ensum/mb) or 'T' (for tssum/pos).  

sh_gamit now writes the sky plots and phase vs elevation angle plots
into a /figs directory instead /gifs, and the files are no png rather
than gif. 

glist can now take multiple apr and eq files and accept use_site commands, 
so that it can fully check a globk solution.  

To be consistent with IGS standards, we have replaced the Bar-Sever model 
Kouba model for satellite yaw, removing the need for the ascii y-file 
generated by ARC.  


Other changes and comments:

Modified memory management in globk to handle >20,000 parameters.  See
globk.hlp and glorg.hlp for other features added in recent versions.

Kalman filter added to tsfit (see tsfit.hlp) 

Changed the conversion of sp3 files to g- or t-files to use the IERS2010
dirunal and semi-diurnal EOP so as to be consistent with the rotations
in MODEL (differences of 2 mm in orbit position).

Introduced and made default IGRF12 for the magnetic field used to compute
2nd order ionospheric corrections. Thanks to Seiichi Shimada of NIED for
this change.
   
Changes to sh_plot_pos: Switched position of north and east component plots 
and fixed long-standing bug with not plotting discontinuities when specifying 
rename- and/or eq-files and, implicitly or explicitly, using "NONE" as tsfit 
command file.  Added additional width to time axis in figures to prevent
first and/or last time series points plotting beneath y-axes, and added -w
option to control fraction of time series length to add (default 0.1 = 10% on
both ends).

Changed sh_update_eop to use wget or curl rather than ftp or ncftp to 
download EOP files from USNO to avoid frequent ftp hang-ups.  The new
version supports extent 'usno' (Bulletin A finals.data from 1992, updated 
weekly) and 'usnd' (Bulleton A finals.daily, last 3 months only, updated 
daily). We no longer distribute Bulletin B since the Bulletin A value are
as accurate and updated more frequently.

Replaced hyphen ("-") with underscore ("_") for output org-file name
produced by sh_glred when run in combination mode (using -ncomb) to
avoid clash when being read by another GLOBK program, e.g. ensum,
bcsum, etc. Output combined org-file name now of the form
globk_[expt]_[YYDoY]_[YYDoY].org rather than globk_[expt]_[YYDoY]-[DoY].org.

Correct the format for reading ATMOSMAP values from a VMF1 list file.
 
Fix bug in gamit/lib/read_antex.f that caused PCO and PCV values to
be zero if the frequency codes are written 'G 1' and 'G 2' instead
of 'G01' and 'G02". This affects the following antennas using NOAA
calibrations: TPSPG_A1_6+GP, SOK_GSR2700ISX, THA800961+REC, THA800961+RTK,
THA800961RECUHF, THA800961RTKUHF, NOV702_3.00, JNSCR_C146-22-1, TRM_R6,
TRM_R8, JAV_TRIUMPH-1. 
  
Altered sh_makeeqdef event naming logic so that all earthquakes found
in catalogs are numbered sequentially and are only given two-character
IDs (e.g. see below entry) after they are selected as potentially 
influencing a site in the <sites file>. 
    
Modfified glinit so that when the make_svs command is used, the satellite
antenna offsets from the latest run (run time value) are adopted as the 
apriori antenna offsets.  Needed when merging new processing (IGS08) with early
MIT global files (e.g. in IGS05). 

Add general relativity corrections to the orbital integration, changing 
scale and clock slightly but little affect on positions.

Fixed bugs in the mean pole used in the ocean pole tide correction and
in equate decoding in glorg.  Updated model output in the SINEX files.  

Fix long-standing bug causing loss of a 32nd satellite. 
  
Fixed bug in kf/glinit/read_eq_file.f that could result in the end time 
of rename being incorrectly set for open ended renames. Fixed bug in 
kf/utils/stinf_to_rename.f that could result in misssed renames after 
the -post date. 
   
Increase max_sites in /kf/utils/merge_apr.f to accommodate the current 
itrf08_comb.apr.

Added "-H" option to "find" commands in install_software to follow
symbolic links. 
 
Increase the PID in the c-file name to 6 digits for large machines.

New script sh_pbor_vel to create PBO-format velocity files from GLOBK 
output.             

Fix bug in sh_org2vel that causes some sites to be missed.
 
Replace itrf00.apr with itrf08_comb.apr as default for sh_setup. 

Added new scripts sh_cats and sh_hector in com/ to analyse noise charac-
teristics of time series (using pos-files).  
                                   
Updated glorg to allow multiple site selections in equate/unequate/force 
commands. Fixed typo in .pos file headers. 

Changed sh_makeeqdef "-pos <pos file>" option to "-f <sites file>" to
avoid confusion with PBO-format pos-files; changed event ID sequencing
scheme from purely numeric to purely two-character (01...99, then A1...A9,
B1...B9 etc. until Z1...Z9, then 1A...1Z, 2A...2Z etc. until 9A...9Z);
added option to use a translation table (e.g. see ~/gg/tables/eq.transtbl)
to edit automatic ID to user-friendly alternative. All automatic IDs now
contain at least one numeric character, while manual IDs are recommended
to be two alphabetic characters, as always.  Updated USGS earthquake search 
URL and made minor changes to event (re) naming logic in sh_makeeqdef. 

Updated coefficents for the solid-Earth pole tide to be consistent
with IERS 2010 standards.

Add libration terms to UT1.  
 
Updated tsfit, tscon and tsjumps to allows ~ (home directory) in file
names.  

Add a script sh_glist2cmd to invoke existing program glist2cmd, which 
creates from a glist a use_site list, an input file for unify_apr, and 
(new) an input site list for sh_makeqdef. 

Add the EPN cumulative solution to the ITRF2008 apr and eq files. Fixed bug 
causing bogus entries for 73 sites when EPN or NGS steps are inconsistent 
with those from ITRF2008 and IGS08. See tables/renames.bad for possible 
errors between early 2014 and June. 

Fix problem with poorly determined average of the east component of the
atmospheric load for a site close to the pole. 

sh_org2vel: Updated longitude/latitude format to five decimal places, in
keeping with org-file. 
     
ftp_info: Modified for correct igni address for IONEX files; add
PANGA, EPNCB, and TrigNet sites. 

Added additional width to time axis in figures made by sh_plot_pos to prevent
first and/or last time series points plotting beneath y-axes, and added -w
option to control fraction of time series length to add (default 0.1 = 10% on
both ends).  Corrected expected residuals file name to plot after running tsfit. 
  
svnav.dat: Correct start date for PN06/SV49---important bug affecting
data for epochs 2013 12 19 thru 2014 4 3.  Fix typo in start date for 
PRN30/SVN49 introduced in 121220 update.  
  
Fix bug in rotation derivatives in GLOBK.  

Fix format error in svpos.

Move rotation and translation estimates to be next to PMU estimates
in GLOBK print file.

Fix gamit/utils/merge_rinex.f to handle more than 10 observables. 

Updated wild card use in site names in mar_neu command (needed for
change in sh_gen_stats script). 

Edited name of temporary file in install_software to avoid accidentally
overwriting any libraries/Makefile.config.new when performing (and
succeeding) with automatic search for X11LIBPATH and X11INCPATH. 

Fixed bug in sh_get_orbits that caused IGS orbits from the CDDIS or
SOPAC archive to be operational (igsf) rather than reprocessed (igs1)
prior to GPS Week 1000 (1999/3/7).  

Updated tscon uto handle new Measures XYZ format.  

Fix problem with computing GRACE seconds.
    
Update gamit/utils/autecl.f to allow deleting post-eclipes data for
Block II satellites.  

Fix end-of-year problem with dcb.dat. Thanks to S. Shimada of NIED,
 
Fixed bug in MODEL, introduced in December 2012, which caused GPT/GPT2 values 
to be used for mapping functions and dry zenith delays even if VMF1 was
specified.  

Fix version number in sh_gamit.  King 130727.

Fix typos is globk_comb.cmd and glorg_long.cmd templates in gg/tables.
 
Fix bugs in fitting GAMIT's model to a broadcast ephemeris (sh_bcfit).
  
New option -subdir for sh_get_rinex to speed up uncompression when there
are many RINEX files.  

Update kf/Khandler/eq_name_chng.f so that _XPS/_XCL sites can not be 
renamed by later renames.  RESET needed to rename _X?? sites if
saved to binary hfile. 
 
Updated grdtab for modification to CoM correction to S1/S2 tidal loading 
and correct detection of dates out of time range of map.grid files.  

Added lunisolar tables for 2015; Updated leap.sec for June 2015 leap second.  
 
Allow reading of a time-of-year-dependent grid for atmospheric tidal loading
(not yet recommended by the IGS).

Add glinit/solution_inf.f,  glist/glist.f, and htoglb/cresnx_file.f
to /kf to fix problem with null string. 

Add the Earth-radiation, antenna-radiation, and 2nd-order ionospheric
model nmmes to the c-file and h-file.  

Various features and updates made to the suite of globk and tsxxx programs.  
See help files for new features.  tscomp added to suite.  .

Increase the dimensions for IONEX files. 
 
Increased dimensions in kf/utils/netsel.h   Herring 140718
  
Enhancements to cplotx including adding color. 

Sped up search for earthquake/rename displacements, and corrected output for 
field overflow in org-file and multiple/duplicate renames in sh_exglk. 
      
sh_upd_stnfo: corrected bugs in kf/htoglb/mstinf.f in using IGS SINEX and 
GIPSY sta_svec files.  Add a '-nogaps' option to close gaps in erroneous 
entries in IGS log files.  

sh_glred: Fix remaining bugs in allowing use of PBO-style h-files (.glb extent).

Fixed long-standing typo in format statement in gamit/makexp/makexp.f
producing a compile error with gfortran 4.6ff (but not earlier compilers).  

TRACK: Fix minor problem with noise_tol.  Fix bug in wide-lane-reference 
combinations (read_all_rinex.f 130730).

New Receivers: TIASAHI PENG3100-R2, JAVAD TRIUMPH_1, JAVAD TRIUMPH_1M,
JAVAD TRIUMPH2,MAG111406, NOV OEM4-G2, ITT 3750300, CHX90D-OPUS, 
ASHTECH PM-500. 

New Antennas: TIAPENG3100R2, STHCR3-G3 , JAVTRIUMPH_1M, JAVTRIUMPH_1MR, 
JAVTRIUMPH_LSA, Antcom ACC123CGN_XN, TRM57971.00 SCIT, LEIAX1202A, 
LEIAX1202A, TPSCR.G3 SCIT, MAG111406, ASH701945A NONE, TRM55970.00, TRMR6,
JAV_TRIUMPH-1R, CHX90D-OPUS, JAVTRIANT_A, JAVTRIANT_B,ASH700829.3 NONE,
JAVTRIANT_A, JAVTRIANT_B.


** 10.50 vs 10.41
  
We have provided and will keep up-to-date, ITRF2008 coordinates
sites in prior releases of the ITRF as well as new sites that have 
been and will be added for IGS processing.  The primary file, in the 
ITRF2008 NNR frame is itrf08_comb.apr; and there are secondary files, 
itrf08_comb_[plate].apr, created by rotating this file to the frames of 
the major plates using the Euler poles estimated by  Altamimi et al. 
[J. Geophys. Res., 117, B07402, doi:10.1029/2011JB008930,2012].  (Note 
that the plate-referenced files that we created 2012-01-06 and put into 
incremental_updates/tables were based on preliminary vectors that changed 
in the final publication, so users who downloaded these should replace 
them by the current files.) These files should always be used in conjunc-
tion with the rename file itrf08_comb.eq to assure that the 8-character 
site name assigned to your data matches the coordinates for the appropri-
ate period.  See 'apr_and_eq_files.txt' in the download documentation 
directory for a complete explanation of how the combined files were 
constructed. 
                     
There are improved templates in ~/gg/tables for GLOBK runs: 
globk_comb.cmd, glorg_comb.cmd, globk_long.cmd, glorg_long.cmd.  
These reflect current best practice and take advantage of the 'option' 
feature of the globk, glorg, and sh_glred command lines so that the 
same command file can be used for both repeatabilities and velocity 
solutions without editing the file itself.  The standard southern 
California example has been reworked to use these file and should 
now be easier to execute and to use as a template for your own 
processing.  Also, there is a new detailed recipe for processing
and analyzing survey-mode (sGPS) measurements, 'sGPS_recipe.txt',
to be found in the documents directory of the download site and
also on the web as part of the presentations from the recent
workshop held at UNAVCO (Boulder13).  

The GPT/GMF models for zenith hydrostatic delay and mapping functions
have been replaced by the new GPT2 model (Lager et al., Geophys. Res.
Lett., ) which is based on a more refined numerical weather model, 
includes semi-annual as well as annual variations, has better spatial 
resolution, and accounts better for height differences through a seasonally 
dependent lapse rate.  In the new model both the ZHD and mapping funtions
are derived from a table, gpt.dat, automatically linked into the experiment
and day directories from ~/gg/tables.  If you specify GPT or GMT in
your sestbl. and have gpt.dat in ~/gg/tables, you will automatically
get GPT2 (the old GPT is invoked only if gpt.dat is missing).

GLOBK now has the ability to remove non-tidal atmospheric loading
(ATML) based on the average of the day given in the h-file.  Since
GLOBK can not yet read an grid file to apply the ATML corrections
directly, if you want to investigate their effects, the best strategy
is to apply the ATML in GAMIT and then optionally retain or
remove the corrections using the new command -appload_mod in the
GLOBK commaand file.  The preferred ATML files for GAMIT are those
that have been filtered to remove sub-daily terms (atmfilt_cm.YYYY).
In principle, the sub-daily thermal tides should be applied in GAMIT,
but none of the current models, including a time-dependent recently
developed by Ray and Ponte, has been shown to reproduce accurately
the tidal loading, so the present recommendation of the IGS for
the next reprocessing is to omit these terms.

Liz Petrie of the University of Newcastle has coded a model in ARC for 
the accelerations on the GPS satellites due to antenna radiation and 
Earth radiation.  These models are invoked by setting 'Earth radiation 
model = NCELE1', now default in the sestbl. and 'fixdrv'.  As part of 
this modification, we have reworked many of the subroutines in ARC to 
be more modular, added (backward-compatible) models to the ARC batch file, 
and coded sh_get_orbits and sh_sp3fit to read the orbital models from 
from a sestbl.  This latter change assures that the orbital models used 
for creating g- and t-files from sp3 files will be consistent with the 
models used for the data processing.  For sh_gamit processsing, the 
sestbl. in ../tables is automatically linked into the /igs directory. 
If the sestbl is absent, hard-wired models will be used.                    
       
Three model conventions have been updated to be consistent with those
used by the IGS: mean pole and short-period EOP are changed from IERS 
1996 to IERS 2010, and the gravity field from EGM96 to EGM08.  These 
changes are important for EOP estimation but have neglible effect on 
positioning.

A new script sh_plot_pos will read PBO-style pos files rather than _mb
files for plotting time series.  GLOBK now generates the 'PBO' lines
in the print files automatically (no need to use PBOP in the print options).
We have retained sh_plotcrd and the use of _mb files for this release,
but they will eventually go away.  The Python script ts_plot.py, introduced
in Release 10.40 to read pos files will also be abandoned because it required 
too many non-standard Python libraries (see below).
                                 
The new script sh_plot_elmean, together with additions to the autcln summary
files allow plotting of mean residuals over several days as a function of 
elevation angle or satellite nadir angle, providing more diagnostics for bad 
antenna models or tracking environments.  These can be used instead of or
in conjuction with the individual-day sky plots and phase vs elevation plots
produced by sh_oneway from the autcln DPH files when '-pres ELEV' specified
with sh_gamit.

** 10.41 vs 10.40

New receivers: TRIMBLE NETR3, R7 GNSS, and SPS852 ; LEICA GG02PLUS, GS08PLUS, GS09, 
GS12, GR25, and GS25; NOV OEM6; Ashtech PF500 and PF800;, NAVCOM SF-3040 SF-3050; 
Topcon TPSGR5; JAVAD TR_VS; SEPT POLARX4, POLARX4TR, and POLARXS; SOK GSR2700 RSX; 
SOUTH S82T GNSS and S82V GNSS; STONEX S9II GNSS; IFEN NX_NTR_303_D, NX_NTR_500_D, 
NX_NTR_600_D, SX_NSR_RT_200, SX_NSR_RT_300, SX_NSR_RT_400, SX_NSR_RT_401, 
SX_NSR_RT_402, SX_NSR_RT_700, and SX_NSR_RT_800.
RNG FASA+, ITT 3750300, GEOMAX Zenith10, GEOMAX Zenith20 receivrs
   
New antennas: TRM_R6, TRM_R8. TRM55970,TRM59900.00, TRM59900.00, and TRMAG25; 
NOV533 (compact), NOV702_2.02 and NOV702_3.00; ASH701023.A and ASH70123.L1;
LEIGS08, LEIGS12, LEIGG02PLUS, and LEIGS08PLUS;, NavCom NAV_ANT3001BR (AT1675-20W); 
JAV_TRIUMPH-1, JAVTRIUMPH_VS, JNSCR_C146-22-1 and four JPSREGANT; TPSHIPER_II, 
TPSHIPER_II+10, TPS NET-G3A, and TPSGR5; SEPCHOKE_MC; Navxperience NAX3G+C; 
Stonex STHS82_7224V3.0 and STXS9SA7224V3.0; Altus APSAPS-3; Rusnavgeoset 
RNG80971.00; ITT3750323; GeoMax GMXZENITH10 and GMXZENITH20.

Correct the values in hi.dat used to convert slant height to direct height for the
TPSHIPER_PLUS antenna. 

Fix typos in hi.dat entries for SEN14R, SENS49R, SENS96, SENS96, SEN96R,
TPS721, TRSXDS, and TRSLDR antennas; add dimensions for Leica LEIAR25 antennas.

Updated Makefile.config.new (to be renamed to Makefile.config) for new
Linux releases.  
 
Creating an earthquake file: The script sh_makeeqdef has been updated to use
hypercenter locations from the EHB bulletin (via ISC) up to the end of 2008,
and from the standard ISC bulleint thereafter.    
         
Update sh_get_hfiles for changes in the SOPAC archive ftp.                   

Fix bug in reading more than 36 SVs from a RINEX file.

Fix the p-file and h-file printout for SP EOP.

Update sh_get_orbits to use repro1 orbits when down loading igsf from CDDIS.
These orbits are available week 730-1459.

Updated grdtab to remove S1/S2 tides from non-filtered grids.  

Change mapping of ietide for h-files: mean-pole-tide removed is now bit 4 (8),
rather than bit 5 (16).  Other minor changes to 'solve'; see sversn.f. 

convertc: Updates to check reasonableness, allow more file types, 
fix bug in reading vel file created by velrot with longer lines,
and reverse the order from lat/lon to lon/lat for GEO or GEP files.                                                

sh_get_nav, sh_get_orbits: Add wget option.
   
sh_PBS_gamit: changed "mailto" variable to "mail_to because" of some conflict/problem 
returning blank argument to -M option in qsub command, which stalls qsub. 

sh_eq: Removed from /com since made obsolete by eq option of sh_exglk.  
            
sh_metutil/metutil: Increase dimensions for z-file entries to allow
10-second sampling over 24 hours.
               
sh_gamit: Add '-alpha off' and '+antalias' to ImageMagic convert to avoid 
transparency and pixelation in converting sky plot images from Postscript 
to gif; change default aprf to itrf08.apr.

Updated hfupd.f and hfupd_ut.f to find renamed sites in station.info
for updating.  

Updated template sestbl. to fix typo for 'Mag field'.
                
Updated read_pmu_inp.f to account for GPS-UTC time difference.

Fixed format "errors" in tsfit.f and tssum.f.

Fix bug in computng average hydrological load for h-file. 

Added displace folder to updates. 

Allow by-passing uncompress when downloading RINEX files: /com/sh_get_rinex.

Fixed bug in grdtab reading OSO list files with slightly different formats;
correct comments for order of tokens on the grdtab command line. Copy from
gamit/grdtab:  grdtab, get_otl_list. 

Added "GCR APTOL" warning to email summary from sh_gamit. 
                                          
sh_get_orbits/sh_sp3fit/ngstot: GLONASS SVS can be can be present (but are 
ignored); add ESA finals (ESAF) as an orbit option; fix bug with SV id
is blank rather than 'G'. 
                                    
sh_glred: add options to select the command file and to input a prefix 
string for the globk OPTION command; add ability to search for binary
files with extent 'glb') (PBO, e.g.); fix problem with 'word too long'.

Changes to better handle CYGWIN installations.  Copy com/unimake and
libraries/Makefile.config.new (and rename to Makefile.config after
checking for compatibility with local settings).    
                         
Updated sh_link_rinex and sh_PBS_gamit to use -expt option for links and 
copies.

Updated sh_get_rinex to allow >1000 site downloads.  Error with Word too long
in original version.

Update globk/autcln to implement new features (see help files) and updated 
pole tide definitions.  Makefile.generic in gen_util updated.  

New script to compare a list of RINEX files with one or more station.info files
to check for station.info.completeness, /com/sh_stinfo_list. 

Changed the USNO ftp command in gg/tables/ftp_info to use passive transfer;
necessary since 1 February 2012.

Updated kf/ctogobs/proc_phsfin.f to output mean residuals by elevation in 1-deg bins.
ELMEAN lines. Bins with no data list 99.9 values.  

Updated frame_to_fra.f with help option and plate to use the feature.

Allow automatic uncompressing of bzip2 files. Copy from com: sh_crx2rnx,
sh_get_rinex, sh_gamit.  
                        
Fix bug in getting the average atmospheric loading value into the h-file.

Update 'profile' utility to handle changed vel-file format.  

Corrected "find" commands in install_software with trailing slashes to follow 
linked directories successfully when verifying or searching for libX11 and Xlib.h. 

Allow reading of ANTEX files with 0.5-degree grid spacing. 
                  
Allow processing from c-files to check model changes.  

Read met values from a RINEX met file using free-format (work-around for
improperly written RINEX v2 files).  gamit/model/read_metrnx. 
 
Added NONE command file name feature to tsfit.f (in help but not implemented) .
    
Change to model/read_metrnx.f to allow reading of mis-formatted RINEX met files 
from Matera. 
                                                                        
TRACK:   Added new relative humidity option to GPT; fixed bug in velocity apriori 
coordinates; updated help file; new script sh_track_to_kml; account for model
differences between L1 and L2; fix bug in reading the last epoch of an IONEX
file; trap better bad clocks and data; add support for C2 range data.      

trackRT:  TRACK updates plus fixed timing problem with trackRT and BNC2.5; updated 
handle BNC 2.6 feed format. 

Update DLAPACK routines to current versions to avoid a bug effective 
with gfortran 4.6 when run with optimization (now default unless 
-mno-align-double is sset). 

Fix bug in kf/svpos/svdiff.f when more than 12-channels of data.         

sh_upd_stnfo/mtinf:  Fix bug with in and out station.info files with rx files;
fix -rxo option; increase dimensions to work with current SOPAC station.info
files. 

sh_setup: Change to copy in whatever is linked was station.info in 
 ~/gg/tables, now nominally station.info.mit.  Rename station.info.sopac.newfmt 
to station.info.sopac. 

Increase maximum channels for Sokia receivers from 14 to 24. 

Updated gg/tables/ftp_info for new server and directory structure at TU Wien
for VMF1 file. 

Fixed conflict with useof :A option in kf/glist/glist.f.

Updated RMS/NUM format in autcln for more than 9999 obs per satellite. 

Use 'tr' instead of potentially unavailable 'dos2unix' to remove extraneous
carriage returns in RINEX files.  

Fix bug in sh_gamit for case of pre-existing SP3 files.  
                                              
Fix bug in gamit/lib/read_antex.f that causes a bogus SV antenna offset for
PN30/SV35 (first time a PRN has been reused for the same SV Block).  

Update tables/otlcmc.dat for additional terms in the NAO_99b model. 
                                                
Fix problem with sh_glred when running a single day.  
 
sh_exglk:  Cleaned up extraction of apriori coordinate lines. 
       
sh_get_orbits: Changed default eop_ser from bull_b to usno. 

sh_makeeqdef: New script to create globk earthquake file from http://neic.usgs.gov/ 
catalog.  
      
The command 'reset' in the eq_file will reset all of the input site extents to
_GPS. 

Added a white-noise process to the mar_scale command so that some process
noise can be applied between to h-files at the same time, useful if they
were generated with differeent scales, e.g., ITRF2005 for IGS repro1 and
ITRF2008 for data processed using itrf08_comb.apr.

Allow 'getrel' to work with newer GLOBK velocity formats. 
                                            
Updated kf/utils/stinf_to_rename.f to handle current scheme of using only a 
4-character ID for the initial site name.  

Fix serious bug in ARC affecting the SV yaw during eclipse.  

Fix bug in failing to use C2 when both C2 and P2 indicated with the
RINEX header but P2 zero for SVs that have C2.  Copy gamit/lib/rrinex.f.
Kogan/King 110420

Fix bug in failure to apply center-of-mass correction (CMC) for ocean tide
models when translating sp3 files to t-files; fix bug in writing MIT sp3
files. Add 'status' message for CMC corrections in both ngstot and ttongs.
Copy from gamit/orbits: oversn.f, ngstot.f, rsp3hd.f,  ttongs.f, wsp3hd.f,
and sdtrit.f.   Kogan/King 110414

Fix bogus header in ANTEX file.   King 110322

Allow use of IERS2010 model for short-period EOP (Ray model still default). Copy
cversn.f, pmut1_oceans.f, and Makefile.generic from /libraries/comlib; lversn.f and
srotat.f from gamit/lib; fversn.f and mdmake.f from gamit/fixdrv.  Herring/King 110223

Fix htoglb bug in making ephemeris file (occurs only with Intel compiler). Herring 110202
                                                
Change default setting in sh_plotvel to be compatible with GMT4.  Ferhat/King 110119  

Fix problem with setting day-loop span in sh_gamit with some operating systems. Shimada/King 110117

Copy into /tables itrf08.apr, IGS08_101117.apr (current IGS) (from IGS08.ssc), and
IGS08_101117.eq (GLOBK rename, from soln_IGS08.snx) files.  The eq fiile has names
matching those in both itrf08.apr and IGS08_101117.apr; note, however, that the IGS
files may have discontinuities later than those accounted for in itrf08.apr, and that
the IGS08 apr file will not include coordinates for early segments used in ITRF2008.
King 110106
                                
Allow sh_find_data to work over a year boundary.  Copy from /com.  Shimada/McClusky/King 110106

Add the 2011 lunisolar tables to incremental_updates/tables/. (luntab and soltab were in the
10.4 distribution, but nutabl. was missing).  King 110104

Remove bogus test on t-file year > 2010.  Copy gamit/fixdrv/armake.f. King 110101/110103

Allow more up to 20 observables in RINEX files.

Updated glist to output of sites by time all on one (long) line.  

Updated treatment of coordinates in renames globk (fixed problem with XCL renames with earthquakes
  that have been previously applied). Khandler/eq_name_chng.f  
 
Correct a bug in sh_gamit when linking IONEX files with  multiple experiments.

Add slant heights for the TRM39105.00 (Zephyr w/o ground plane) to hi.dat.  

Correct the echo of the atmospheric tidal loading model in the p-file. 
                                

** 10.4 vs 10.35     

Introduction of  a real-time kinematic module, trackRT.  See help/trackRT.hlp
for a complete description including instructions for installation.
                     
Changes to the code and svnav.dat to use an appropriate radiation-pressure
model and antenna offset for Block IIF satellites (only PN 25 thus far).  If 
you need to combine new processing with MIT or SOPAC global h-files that used 
the old models set ' apr_svs  prn_12 100 100 100 10 10 10 0R ' to unlink the 
radiation pressure models.  Both MIT and SOPAC will rerun these days to 
remove the problem.
   
Two new programs, tscon and tsfit, are available for prototyping GLOBK solutions.
They allow you to convert PBO, REASON, and other time series to GLOBK formats and
to generate in an iterative but rapid fashion appropriate models for discontinuities 
and earthquakes in continuous time series prior to making long globk runs.  See 
Chapter 4 of the GLOBK Reference Manual and the help files for tscon and tsfit.

There is a new example, better designed for instruction on setting up
processing with new data and incorporating a multi-year solution with GLOBK.
                 
The c-file and h-file formats have changed.  C-files from prior releases
cannot be used, but the code remains compatible with older GAMIT (ascii) and
GLOBK (binary) h-files.  The impetus for this change was to better document
models used in the processing, particularly for receiver and satellite antenna
models. 

Higher-order ionospheric (HOI) corrections (2nd and 3rd order, but not
bending) are available in GAMIT, as described by Petrie et al. [J. Geophys.
Res., 115, B03417, doi:10.1029/2009jb006677, 2010].  Using these terms requires 
downloading daily IONEX files containing total electron content (TEC) at 
2-hr intervals from CODE into the [expt]/ionex directory and linking these 
into the day directory using '-ion' in the sh_gamit command file.  To apply 
the effects in processing, set  'Ion model = GMAP' and 'Mag field = ITRF11' 
in the sestbl.  See the new Chapter 8 of the GAMIT Reference Manual for
more details.  Thanks to Liz Petrie of Newcastle U (UK) for most of the work
on this, and to Andrzej Araszkiewicz the Military U of Technology (Poland) 
for important contributions.

The procedure for creating and keeping an updated station.info file has 
been better documented and enhanced by changes to sh_upd_stnfo. See the
description on p. 27 of the Introduction to GAMIT/GLOBK manual, or the
README of the new example.

GLOBK will now accept multiple eq_files, allowing you to configure separate 
files for earthquakes, breaks, and editing (_XPS, XCL).  If an eq_file entry 
uses the 'break' command rather than the 'rename' command, globk will assign 
the extent. A new RENM print option causes the full rename list to be output.  
glist now also allows for multiple eq_files, separated by colons.   
    
We are now providing in the GRIDS directory on everest.mit.edu atmospheric 
loading files that have been filtered to remove the diurnal and semi-diurnal 
thermal tides (S1, S2) using the procedure described by Tregoning and Watson 
(J. Geophys. Res., 14, B09403, doi:10.1029/2009JB006344, 2009). These can be 
used in conjunction with atl.grid (also on everest) comprising the IERS
standard S1,S2 tides (Ponte and Ray, Geophys. Res. Lett.,29, 2153, doi:10.1029/
2002GL016340, 2002) by renaming the filtered files (atmfilt_cm.YYYY) to the 
standard name for unfiltered files  (atmdisp_cm.YYYY) in gg/tables, and setting 
'Use atl.grid = Y' and  'Tides applied = 63' in the sestbl.  Based on feedback
from users, we hope to eventually discontinue distribution of the unfiltered
grids.  Note that earlier versions of the filtered files, from either ANU or
MIT, were written incorrectly; further, there was a bug in the 'model' routine
that read the sub-daily ATL from the u-file, causing the north and up components 
to be reversed.  Any use of ATL should use the new grids and Release 10.4.
  
There is a new plotting script, ts_plot.py, that reads PBO-style time-
series files (.pos), created by tscon or tssum, rather than the mb_-files 
created by ensum.  We plan to transition to the .pos format eventually since 
it is more complete and flexible, but this will happen slowly and only when 
we're sure that users can easily install all of the libraries needed to run 
ts_plot.py: Python V2.7  ( http://www.python.org/download/ ); Numpy 
( http://new.scipy.org/download.html ), optionally scipy; matplotlib 
( http://sourceforge.net/projects/matplotlib/files/matplotlib/matplotlib-1.0/ )
and egenix-mx-base-3.1.3 ( http://www.egenix.com/products/python/mxBase/ ).   

Changes to tsview to enhance performance when viewing and editing large
numbers of time series; recording of the reasons for edits when creating entries
for eq_files.

There are updates to autcln and solve to better handle single-frequency data.  
The default in autcln now requires the user to include 'L1only' in the autcln.cmd 
file to process single-frequency data.

Pseudorange resolution of wide-lane ambiguities (LC_AUTCLN) is now recommended 
for networks larger than 50 km and data from January 1994 (except with codeless 
receivers), the date from which  empirically determined differential code biases 
(DCB) for each SV have been determined (dcb.dat) by AIUB.  A new algorithm, implemented 
for Release 10.34, is more robust than the earlier one and gives some weight to the 
ionsophere-constrained phase WL.  The defaults controls should work well for most 
networks with recent data, but you may want to test increasing the 'ion constraint' 
value (from the default .01 to .02) under maximum ionspheric conditions (2000-2002), 
or decreasing the value (to .005) for old data under minimum ionospheric conditions 
(1994-1998).  
                               
There are now IGS RINEX files with as many as 11 obervables, requiring an
update of the code (rrxhed and rrinex in gamit/lib) and remaking the executables
with MAXOBT=11 in gamit/includes/makex.h.   IGS ANTEX files begining with 
igs05_1499.atx have more comment lines than we originally coded (50).  Set MAXTXT=1000 
in gamit/includes/dimpar.h. and remake gamit.  Prior to an October 2008 incremental 
update to 10.34, failure to make this change will result in a cryptic failure in 
suggesting a misnamed receiver or antenna.  Release 10.4 will recognize ANTEX 
Version 1.4.        

Fix a bug in time argument for GPT; affects the annual signal in heights at
the level of 0.2-1.0 mm. Thanks to Francois Fund (ESGT) for catching this
and Paul Tregoning (ANU) for testing it.  
      
Fix bugs and deficiencies in sh_upd_stnfo/mstinf to obtain a better match
of entries with RINEX files and to avoid multiple entries continuous
stations when not needed.  Add the ability to get a station list from 
sites.defaults and/or the /rinex directory, and the ability to use wildcards 
to get multiple IGS log files.  Fix bug in distinguishing between Receiver Type' 
and 'Receiver SN', and 'Antenna Type' and 'Antenna SN' in reading station.info
files (thanks to Olivier Charade (INSU/CNRS), allow more complete updating
of station.info entries mid-session.

Fix two bugs in fixdrv, both introduced in 10.35:  1) full-solution 
observable erroneously set when quick_pre observable = LC (allowed for 
backward compatibility) rather than LC_ONLY (preferred); 2) check on
too-tight a priori coordinate constraints failed in sh_sigelv.  Thanks
to Liz Petrie (Newcastle) for catching both of these.  
      
Fix bug in sh_get_nav when the day number has leading zeroes, needed for
CDDIS downloads with tscsh (one line of code missed in fixes applied to 
most scripts for 10.35 release).  Thanks to S Shimada of NIED for the 
catch and Mark Murray for additional cleanup.  

Fix bug in  kf/glfor/get_max_glbd.f that resulted in wrong dimension for
the partial derivative array when earthquakes logs and/or apr_rot commands
used.  
        
Updates to 'track' to account for millisecond range jumps.

Fix bug in creating station.info entries with sh_upd_stnfo when the compiler
option for floating point is not real*8.  Thanks to Mark Murray (New Mexico 
Tech) for catching this. 
       
Fix bug in utility org2stab to get a stablization list from a velocity
solution.
          
Fix bug in sorting median process-noise values in sh_gen_stats.
      
Correct a bug in sh_update_eop after detecting an invalid EOP series.

Fix failure to link binary for utility ne2azel
 
Add gradients to the output file of sh_metutil; trap an empty z-file from 
having no good observations at a site. Copy gamit/utils/metutil.  Thanks
to Mark Murray (New Mexico Tech).

Modify sh_get_met to work with either Z or gz files, and for multiple days;
update the met directories for CDDIS.  Thanks to Kalev Rannat (Tallin U). 

Add ~60 receivers and ~10 antennas to rcvant.dat. Update to current
IGS ANTEX file (igs05_1597.atx) and create igs05_1597_plus.atx by
adding PCV models from NGS for 8 antennas not in the IGS file. 
Correct misspellings or official changes for 6 receivers or antennas.   

Changes to unimake and Makefile.config to facilitate installation under 
CYGWIN.  See the notes 'CYGWIN' under updates/documentation.  Thanks to 
Semi Ergintav (TUBITAK) and George Vergos (AUTH) for notes and testing.  

Add to sh_gamit the ability to invoke sh_metutil to get ZWD and PW (met-file)
from an input z-file and o-file, and to archive, compress, or delete z-
and met-files at the end of the run.  Add script sh_met2pbo to concatenate
multiple met-files. 

Fix header entries and format in writing SP3-C files.

Update Hatanaka RINEX compression routines to version 4.0.4, fixing function
name conflict with getline in gcc 4.4 and cleaning handling of line-feed at
end of file.  
                             
Add output lines in Euler-pole utility conveuler.
      
Modify format in utility confpol to convert N,E sigmas and correlations 
to confidence ellipses.

New utility check_siteid to compare 4-character IDs from glist and
several external formats to detect conflicts. 
        

