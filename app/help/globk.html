<html>
<head>
</head>
<body>
<pre>
GLOBK: Global Kalman filter analysis program

GLOBK Ver 5.08: Global Kalman filter analysis program.

Runtsring:

% GLOBK <std out> <print file> <log file> <exper. list> <command file> <OPTION>

where <std out> is a numerical value (if 6 is typed then output will be 
                sent to current window, any other numerical value will 
                send output to a file fort.nn)
      <print file> is the name for the output print file with the
                solution in it.   If the print file already exists, then 
                the new solution will be appended to it.
      <log file> is a log file which contains the running time for the
                program and the pre-fit chi**2 value for each input
                covariance matrix file.  If the log file already exists,
                then the new solution will be appended to it.
      <exper. list> is a list of covariance files to process.  (This 
                list is most easily generated with re-direction of 
                and ls command e.g., % ls ../gotex/g*.glc > gotex.gdl).
                Any file name may be used but convention is to end it
                with .gdl.
      <command file> is a list of commands (see specific GLOBK
                documentation file).  The command file controls the
                options in the program.
      <OPTION> string that can appear at the starts of command file lines
               which will be executed.  (Normally these lines are ignored
               since they do not start with a blank. (New Ver 5.08)

See also glist, glred, glorg, hotglb, plot, ensum, blsum, bcsum

GLOBK Version 5.08: 030610
--------------------------
- The major change in this version is the addition of logarithmic function 
estimation after an earthquake (instead of using process noise to model
postseismic behavior). Feature is invoked in the earthquake file using the
EQ_LOG definition line for an earthquake. (see eq_def beflow).  When only 
one day of data is processed, the log terms are not estimated. This update
changes the globk common file version so this version of globk will not be
able to read old com_files.
- Introduced the <OPTION> feature in the runstring for globk, glorg, and glred.
- Introduced the use of wild card character (@) in site name specifications 
for the use_site, stab_site and mar_neu commands. When this feature is used
as name such as CHIL_@ will match all site names that start with CHIL_.  
Fearure is useful for ensuring that all renamed version of site are used (or
not used) and have the same process noise given to them.
- Introduced "decimate" command in globk forward runs.  Command must be given
in first group of commands in the command file. Form: decimate N when every
N'th Hfile will be used.  Useful for quick solutins with continuous data.
Fatal error results if command is out of order (applied to all commands in the
group that must appear before all other commands).
- Added new type of rename.  Site renamed to end in _XPS will not be used when
more than one day of data are processed.  When one-day of data processed they
will be used.  Feature useful for getting time series of deleted data (glred
run) while not have the site effect a globk forward solution.
- Introduced output of full precision geodetic coordinates (WGS-84 system) and 
UTM coordinates.  Increased precision by one significant digit of nearly all
outputs.  (Positions and velocities now given to 0.01 mm and 0.01 mm/yr).
- The pole tide is now applied to the mean-pole defined by the IERS 2000 
conventions.  (Update is automatically handled when pole tide is applied).
- Introduced -RS option (realistic sigma) to ensum and enfit.  Invoking this
option, generates sigmas that account for correlations in the time series (see
enfit help). 


GLOBK Version 5.07: 030129
--------------------------
Most changes made to glorg.  Small addition of LOG functions in
extended model (see enfit).  Added option to list parameters to
be estimated at start of run.
Changes to PoleTide algorithm: Pole tide correction changed to
be consisent with IERS standards with the reference pole linearly
drifting with time.  This correction is automatically applied to
any hfile with the pole tide correction applied.

GLOBK Version 5.06a: 011126:
----------------------------
Small modification to stop sites renamed to end in _XCL from
being renamed during earthquakes (i.e., they will retain the
_XCL name and no be used in the solution).


GLOBK Version 5.06: 010519:
---------------------------
Modifications made to the treatment of the EXTENDED model in apriori
coordinate files.  Explicit external statements were added because on
some system the block data was not loaded correctly which causes incorrect
results when extended features were used in glorg apriori files.

GLOBK Version 5.05: 000901:
---------------------------
NOTE: The com_file from this version of globk are not backwards
       compatable.  You should save copies of glsave and glorg if
       you want to read old globk com_files.
Minor enhancements of the program.  Features added include:
(a) Renaming a site to end in _XCL will automatically exclude the site
from being used in the globk/glred analyses (equivalent to use_site -site_XCL)
(b) New command added which allows noise to added to the coordinate
components of indivual stations.  The format of the new SIG_NEU 
command is:
 SIG_NEU <Site> [HF code] <NEU Sigmas (m)> [Start date] [End date]
where 
<site> is the name of a site with the following card features:
    - Full 8-character to match a site exactly (name is the current
      name after all renames and earthquakes have been applied.
    - Leading charaters of a name and allow sites with those leading
      characters will have the noise applied.
    - @[string] will match all sites whose name end with string
    Examples: AUCK would match all names such as AUCK_GPS or AUCK_GEQ
              @_BHI would match all sites renamed to end in _BHI
              @ (by itself) would match all sites.
[HF code]is optional string that must occurr exactly in the hfile
    name for the additional noise to be added
<NEU Sigmas (m)> are the 3 sigmas for Norh, East and Up (m)
[Start date] is an optional calender date of the form YYYY MM DD HR MIN
     which sets the earliest time that the additional sigmas will be
     applied (check is done on the reference epoch of the hfile)
[End date] is an optional end date of the above form.
All entries which apply to a site are added (in a variance sum).
The sigmas being added are reported to the screen and log files.
Example full command 
  sig_neu AUCK_GPS nzvt 0.000 0.000 0.1000 2000 02 02 12 0 2000 02 02 12 0
should add noise to the height for the experimen on 2000 02 02 (a
1-minute tolerance is applied to the times and so this should apply
to hfiles which contain nzvt in their names and were from data centered
on 12:00 hrs UTC.  
 
GLOBK Version 5.04: 000404:
--------------------------
Added feature that when the out_sol file command is used in glorg,
and an out_glb command has been given in the globk command file, then
two binary hfiles are written.  The loose globk hfile is still written
to the file named in the out_glb command, and the glorg constrained version
of the hfile is written to a file with .CON appended to the name of the
file in the out_glb comamnd.

GLOBK Version 5.03: 991110:
---------------------------
New features added: Non-secular terms added to the apriori coordinate
files.  These terms allow periodic, exponential, logarithmic and offset
and rate changes to be introduced into the apriori coordinate files.
The new lines are detected by EXTENDED being the first token on the 
line in the aprori coordinate files.  The general format of the lines
is:
 EXTENDED <Site Name> <Type> <YY MM DD HR MN> <Parameter> <Coefficients for NEU>
where EXTENDED should be preceeded by at least one blank.  Line is not
case sensitive,
The following <Types> are allowed
TYPE    Format and meaning
EXP     Exponential variations:  The exponential starts at the time given by
        <YY MM DD HR MN> and the <Parameter> is the decay time, in days, for the 
        exponential (ie. exp[-dtime/Parameter] where dtime is time after
        the start time.  The coefficients are the amplitudes for North, East and
        Up.  Units meters. Example:
 EXTENDED JPLM_GPS EXP 1992 6 28 0 0  30.0   0.010 0.005 0.00
        Results in 30 day exponential with amplitude of 10 mm North, 5 mm East and
        zero for the height

LOG     Logarithm variations: The logarithmic function is applied after date
        <YY MM DD HR MN> and the <Parameter> is time normalization value in
        days (ie., log(dtime/Paramter) where dtime is time from the start time.
        The coefficients are the amplitudes for North, East and Up.  Units meters.
        Note: No data should be included that is within the normalization 
        parameter of the start time (i.e., log(0) = -infinity).  Example 
 EXTENDED JPLM_GPS LOG 1992 6 28 0 0  300.0   0.010 0.005 0.00
        Results in 300 day logarithmic with amplitude of 10 mm North, 5 mm East and
        zero for the height

PERIODIC periodic variations: Applied to all dates.  The <YY MM DD HR MN> is
        the zero phase time of the periodic signals and the <Parameter> is
        the period in days (i.e., cos(2*pi*dtime/Parameter) where dtime is time
        from <YY MM DD HR MN>.  The coefficients are paired as the cosine and
        sine coefficients for North, East and Up.  Units meters. Example
 EXTENDED JPLM_GPS Periodic 2000 1 1 0 0  365.25   0.0 0.0  0.0 0.0  0.001 0.009
        Results in Annual signal in height with cosine amplitude of 1 mm and
        Sine amplitude of 9 mm.

OFFSET  Episodic change in position and velocity.  Applied after <YY MM DD HR MN>
        <Parameter> in this case is not used (value of 0.0 should be given).
        The coefficients are paired as offset and rate changes applied after
        the start date (i.e., offset + dtime*rate where dtime is time after
        start time.  Units: offset meters, rate meters/year. Example:
 EXTENDED JPLM_GPS Offset 1992 6 28 0 0 0.0    0.003 0.001  0.004 0.004 0.000 0.000
        Results in North position and velocity change of 3 mm and 1 mm/yr, 
        East position and velocity change fo 4 mm and 4 mm/yr.  No change in height. 


NOTES:
(a) Each of the terms given should be unique.  If duplicates (in terms of epoch,
type and parameter) are given, the lastest one read will be used.
(b) This extended model is meant for use with time series analysis.  The non-secular
terms are saved in any out binary hfile.  
(c) The position estimates and adjustment output by globk and glorg include these
terms evaluated at the epoch of the output solution.
(d) Differences between position changes with the eq_file rename feature, extended
offset and hfupd.  The eq_file rename changes the "observed" site position in the
input hfile where as the extended offset feature changes the "modeled" position of
the site.  As such the signs are opposite to acheive the same effect.  To correct
erroneous heights in hfiles, hfupd is now the preferred means.  In 5.03 globk, 
extended offset should only be used for repeatability runs to account for 
coseismic offsets and rate changes.

Other changes at 5.03
---------------------
Post-5.02 globk requires that the gamit leap.sec file be read if polar motion
UT1 values are changed.  If this file is not found in the local directory, it
is searched for $HOME/gs/tables.  A warning message is now printed if the
leap.sec can not be found.  In some cases, not finding the leap.sec file can
cause large rotations to be introduced in the solution.
 

GLOBK Version 5.02: 990226:
---------------------------
This is version is mainly bug fixs to 5.01 associated with multiday
polar motion, generating IERS table entries, and the itegrated random
walk model used in globk.  The Pole-tide code was corrected.  
New command:
IRW_MOD <OLD/NEW> -- By using the OLD option the pre-globk 5.02 
    integrated random walk stochastic model can be invoked.  This
    old model, couples to position estimates and rate estimates too
    strongly and was original introduced in globk to allow direct
    integration of rates to get position (primarily for polar motion,
    UT1 estimates).  The new model is more statistically correct but
    still seems not to be complete.  The IRW model used with multi-day
    polar motion/UT1 estimates seems to be correct.

GLOBK Version 5.01: 981215:
--------------------------- 
New commands
------------ 
APP_PTID : Corrects input hfiles for pole tide if needed.

The command syntax is
  app_ptid <list of h-file codes/ALL>

where <list of h-file codes> is a list of strings that should appear
     in the hfile name for the pole correction to be made.  The reason
     for this construct is that sinex files do not contain information
     about the application of the pole tide, and yet some centers do
     apply these correction.  The list in this would be those centers
     that do not apply the pole tide.
     Example: app_tide sio SIO 
     would apply the correction to hfiles whose names include either
     sio or SIO but not to other hfiles.
     If ALL is given then the correction is applied to all hfiles that
     do not internally indicate the correction has already been made. 

..........................................................................
APR_ROT and MAR_ROT : Allows rotations and rotation rates to be estimated
independently of polar motion and UT1.  These commands should not normally
be needed, but can be used as a lat resort when the rotation inconsistencies
between h-files than can not be removed with the in_pmu command.  Examples
could be sinex files that do not have EOP values in them or VLBI or DORIS
files than are inconsistent with other h-files. 

Command syntax is:
  apr_rot <sig X> <sig Y> <sig Z> <sig Xrate> <sig Yrate> <sig Zrate>

where <sig X> <sig Y> and <sig Z> are the apriori sigmas for the rotations
   about the X, Y and Z axes.  Units mas.
      <sig Xrate> <sig Yrate> and <sig Zrate> are the apriori sigmas for
   the rotation rates about the same axes. Units mas/yr.

   mar_rot <RW X> <RW Y> <RW Z> <IRW X> <IRW Y> <IRW Z> <WN X> <WN Y> <WN Z>
where <RW X> <RW Y> and <RW Z> are the random walk process noise for the
   rotation values. Units mas**2/yr.
      <IRW X> <IRW Y> and <IRW Z> are the integrated random walk process
   noise for the rotations (ie. IRW in rotation, and random walk in rotation
   rate).  Units: (mas/yr)**2/yr.
and
      <WN X> <WN Y> and <WN Z> white noise processes for the rotations, i.e.
   these variances are directly applied to the process noise independent 
   of the time separation of the points.  Units mas**2.
  

GLOBK Version 5.00: 981020:
--------------------------- 
MUL_PMU  : Sets up estimation of multi-day polar motion/UT1 estimates 

The command syntax is
  mul_pmu <number> <spacing> <start> <Option>

where <number> is the number of entries to introduce
      <spacing> is the spacing in days between the values
      <start> is the start epoch for the values which can be entered in
              in a number of different ways:
              (a) Actual date given as year month day hr min
              (b) GPSW <offset> where the start of the GPS week containing
                  the hfiles will be used, offset by the value given in
                  <offset (days)> e.g, GPSW 0.5 would start the values at
                  12:00 hrs UTC on the first day of the GPS week
      <option> is an option on treating the values with in the multiday
               estimates.  The options supported are:
               (a) IND -- Treat each day independently i.e., the apr_wob
                          values are applied to each day and the markov
                          process is not used to correlate the days
               (b) NOUT -- Ignore the UT1 entries in the input hfiles.
               (c) WARN -- Print warning messages for PMU epochs that do
                           not fall on the mul_pmu boundaries
               (d) PROP -- Propagate the mul-pmu block forward if a hfile
                           time falls outside the current bounds.

The apr_wob, mar_wob, apr_ut1 and mar_ut1 commands are used to set the 
statistics of the values.  NOTE: In version 5.0 it is not possible to
have an integrated random walk process noise model that has zero variance
at the first epoch (Specifically, UT1 can not be given zero variance on
the first day.  This will be corrected in future versions).
..........................................................................

EP_TOL  : Allows uses to the time tolerances for 
          (a) how closely the epochs of the EOP estimates need to match
              the assigned in mul_pmu (Default 0.01 days)
          (b) how closely ephemeris elments need to match in time (see
              make_svs and svs_file below). (Default 0.1 days)
Command syntax
  ep_tol <eop> <svs>   ! Units are days
If a value of -1 is given for either than the default is used. 
..........................................................................

APR_SVAN : Allows user to set the apriori standard deviations for the
           satellite antenna offsets.  (These may also be entered in
           apr_svs command).
Command syntax
   apr_svan <prn/all>  <sig X> <sig Y> <sig Z>
where <prn/all> can be a prn name (e.g. PRN_01), or ALL to apply to all
                satellites
       <sig X> <sig Y> <sig Z> are the apriori sigmas in meters.
                F can be used to fix the value.
                Any values not given are assumed zero (i.e., no further
                constraints will be applied.
                The appending or prepending A to a value will cause all
                remaining entries in the list to be set to this value.
..........................................................................

MAR_SVAN : Allows the user to set the random walk process noise on the
           antenna offset estimates.  If these values are not specified
           the antenna offsets are "averaged" over all input values.
Command syntax
   mar_svan <prn/all>  <mar X> <mar Y> <mar Z>
where <prn/all> can be a prn name (e.g. PRN_01), or ALL to apply to all
                satellites
      <mar X> <mar Y> <mar Z> are the process noise values in m**2/yr.
..........................................................................

VAL_SVAN : Allows user to change the apriori values of the antenna offsets

Command syntax
   val_svan <prn/all>  <X> <Y> <Z>
where <prn/all> can be a prn name (e.g. PRN_01), or ALL to apply to all
                satellites
       <X> <Y> <Z> are the new antenna offsets in meters.  If DEF is
                used for a numeric value then the default value (ie.
                the value used in GAMIT will be retained)
                e.g.  val_svan  prn_13  def def 2.0
                would change just the Z component to 2.0 meters.
..........................................................................

Modifications to existing commands
----------------------------------
All Commands:
Comments may be added to the end of all commands by using the ! or #
character in the line.  This feature used to in general work but 
now has been explicitly coded e.g.,
   apr_neu  bad_site  100 100 100 0 0 0   ! This site is bad
is processed as
   apr_neu  bad_site  100 100 100 0 0 0  
 

APR_SVS and MAR_SVS
-------------------
Additional flexibility has been added to the input for these commands.
The allow the statistics of the satellite orbital elements, radiation
parameters, and satellite antenna offsets.  The basic format remains
the same but extended by 6 (making 23 in all) arguments for the new 
radiation parameters and antenna offsets.  However to aviod entering 
all these values, the following options are allowed:
(a) Numeric value with R pre- or appended to enter radiation parameters
    values that have not been enter yet.
(b) Numeric value with A pre- or appended to enter satellite antenna 
    statistics that have not been entered. 
When this form is used all entries that have not been entered will be
set the numeric value.  

Values not entered will be set to zero.
Examples:
*                    X  Y  Z Xd Yd Zd Dir  Others    SvAnt
   apr_svs  prn_09  10 10 10  1  1  1   1   0.01R    5A
would set the apriori sigma for the direct radiation parmater to 100%, 
all other radiation parameters are 1%.  The antenna offset parameters
would all be set to 5 meters.  If the 5A was not given, then the antenna
offset would be zero (thus not estimated in globk). 

GLOBK Version 4.17 Added features: 980518
----------------------------------

Two new features were added and several output features were changed.
There have also been signficant changes in GLORG which are explained
in the GLORG help file.

Changed output:
(1) The use of rename and earthquake entries are now tracked and only
    those that are actually used in the solution are output to the prt
    and org files.  (The numbering of entries reflects their absolute 
    number in the list given be the user.

(2) An additional argument has been added to the gdl files to allow
    the diagonal of input covariance matrices to be scaling.  The reading
    of the gdl file has also been made more flexible.  The general
    format of the gdl file is now:
    [glb file name] <scale> <diagonal scale> <+>
    where [glb file name] is the binary h-file name where lines starting
       with * or # are ignored
          <scale> is an optional scale for the whole covariance matrix
          <diagonal scale> an optional scale for the diagonal of the
                  covariance matrix in parts-per-million (ppm) to be
                  added to 1.0.  <scale> must be given to if <diagonal scale> 
                  is to be used. The diagonal scale is often useful for
                  unstable sinex files which have been deconstrained.
          <+> is an optional argument for GLRED which will cause the 
                  next binary hfile to be combined with this one (and
                  so on until a line is encounter without a + at the
                  end of the line.  The scale factors no longer need
                  be given for the + sign to be interpretted by GLRED.
    A typical gdl file line may now look like
    h980126_stan.glx 3.2 2 +
    which would scale the covariance matrix by 3.2 and scale the diagonal
    by (1.0+2*1.d-6).
    
(3) The prefit chi**2/f values written to the log and status files are
    now saved for the forward and backward runs and output when the
    GDL prt option in specified.  If a back solution is not run, or
    an experiment was not used in the back solution because it was
    rejected in the forward run, its chi**2/f will be -1.
    The new form of the output when the GDL option is specified in the
    prt_opt or org_opt commands now looks like.

 EXPERIMENT LIST from cont.srt
     #  Name                                      SCALE Diag PPM  Forw Chi2 Back Chi2 Status
     1 /users/tah/SIO_GLX/H98/H980419_SIO.GLX     1.000    .000     1.134      .809   USED
     2 /users/tah/SIO_GLX/H98/H980420_SIO.GLX     1.000    .000     2.113     2.104   USED
     3 /users/tah/SIO_GLX/H98/H980421_SIO.GLX     1.000    .000      .717     2.338   USED
     4 /users/tah/SIO_GLX/H98/H980422_SIO.GLX     1.000   1.000     3.421     1.471   USED
     5 /users/tah/SIO_GLX/H98/H980423_SIO.GLX     4.000    .000     2.083     1.307   USED
     6 /users/tah/SIO_GLX/H98/H980424_SIO.GLX     2.000   3.000      .693      .245   USED
     7 /users/tah/SIO_GLX/H98/H980425_SIO.GLX     1.000    .000     2.433      .008   USED
    where <SCALE> is the overall scaling of the covariance matrix
          <Diag PPM> is the diagonal scaling in parts-per-million difference from 1.0
          <Forw Chi2> is the forward solution Pre-fit Chi**2/degree-of-freedom
          <Back Chi2> is the backward solution Pre-fit Chi**2/degree-of-freedom
          <Status> indicates is the file was used in the solution.

New commands added:
(1) SOURCE command was added which allows globk and glorg commands to
    be read from another file inside the primary globk command file.
    The command can only be used in the primary globk command file.
    Format:
    
      SOURCE <file name>
    where <file name> is a file containing globk commands (can not include
      another source command).
      
    This command is useful for having a single file with e.g. use_site
    commands which are shared among multiple globk command files.
   
(2) RAD_RESE command allows the user to specify that the radiation 
    parameters should not be reset when a new IC epoch is encountered.
    The default (compatible with pre-4.17 verions of globk) is to reset
    the radiation parameters when a new IC epoch is encountered.  
    Format:
      RAD_RESE N 
    will cause the radiation parameters not to be reset thus allowing
    the average value to be computed when multiple days of data are
    combined. Markov process noise (mar_svs command) can be used allow
    the radiation parameters to change with time when this command is
    invoked.  It is reccommended the Z option be specified in the 
    make_svs command when this option is used.  (If the Z option,
    which sets the direct-radiation parameter to 1.0 and the other
    parameters to 0.0, is not used the average difference from the
    (most-likely) time variable radiational parameters will be estimated
    by globk.


GLOBK Version 4.16 Added features: 980216
----------------------------------
Fixed long standing bug in XYZ_to_GEOD which computed the rotation matrix
between XYZ and NEU slightly wrong.  Effect is neglible on results but
could cause some North-Up correlation when height sigmas are large.  
Fixed a long standing bug in getting pivot element during matrix inversions.
Seems to have no effect on results but might have affected numerical stability.

GLOBK Version 4.15 Added features: 971112
----------------------------------
Added (optional) inclusion of h-file name string check to the rename command
in the eq-files.  (see RENAME below).

GLOBK Version 4.14 Added features: 970909
----------------------------------
New output features added (see glorg help for list of all options)
ERAS -- Erases the output prt or org files before printing (should
        NOT be used in glred runs because this will erase the output
        before each day of data is processed).
NOPR -- Can be used to stop the output of the prt, crt or org files.


GLOBK Version 4.13 Added features: 970607
----------------------------------

A new output option was added at this version plus we modified the
arguments to the MAX_CHII command.  We also changed some of the internal
book-keeping in globk to record better the start and end times of the
h-files used in the solutions.

The new output option is GDLF which can be added to any of the prt_opt,
crt_opt or org_opt commands.  When this option is used a new block is added
to the globk output files which list the experiments used.  The form is

 EXPERIMENT LIST from sio.srt
     #  Name                                    SCALE Diag Scale Status
     1 raw97/h9704201159_dgga.glx               1.000 1.00000000 USED        
     2 raw97/h9704201159_igs1.glr                .001 1.00000000 USED        
     3 raw97/h9704211159_dgga.glx               1.000 1.00000100 USED        
     4 raw97/h9704211159_igs1.glr               1.000 1.00000000 USED        
     5 ../SIO_96/raw97/h9704221159_dgga.glr     1.000 1.00000000 NOT USED    
     6 raw97/h9704221159_dgga.glx               1.000 1.00000000 NOT USED    

where SCALE is the overall variance scaling of the input globk hfiles, 
      Diag Scale is the scaling applied to the diagonal, and
      Status reports if the hfile was actually used in the solution.
              
The SCALE value is input following the h-file name in the gdl list.  The diagonal
scaling is not yet documented and is mainly useful for reducing the effects of numerical 
instabilites especially with IGS SINEX files from some centers.

The changes to the MAX_CHII command are given below where the command is
described.
 
Finally, in version 4.13, the back solution code was modified to ensure that h-files
not used in the forward solution were not used in the back solution either. 

GLOBK Version 4.12 Added features: 961127
----------------------------------

New commands have been added with 4.12 and some internal changes have
been made to the operation of globk.  We also extended the options in
the max_chii command that was introduced in version 4.11 of globk.
(We extended the documention under 4.11 to show this new option).

The other major change made was to allow the direct copying of the initial
covariance matrix from the globk input files when a loose solution
is run and there are no additional computed parameters (such as earth
rotation or translation parameters).  A "loose" solution is defined by
all apriori variances being greater than 100 (i.e. 10 meters for positions
and 10 m/yr for velocities).  A new command has been introduced which
allows this option to be turned off.  The command is simply  NO_DIRCP
with no options.  (This is useful if a large rotation is to be removed
in the globk run).  There is a small impact on the chi**2 computation
when a direct copy is made becuase the parameters in the direct copy
matrix are included in the sum of the number of degrees of freedom in
the solution).

Another small change is that when the DESCRIPT command is used, the
description string is written at the top of the print and glorg files.


New site selection commands:
----------------------------
We have added two new commands to help limit the sites that are included
in a globk analysis.  We have also "cleaned" up the code which keeps 
track of the sites actually used in an analysis so that only sites with
data should appear in the final solution (if a site is deleted during the
run due to bad prefits, it will still appear in the output (see max_chii
command below).

 USE_POS <+/-> <Lat LL> <Long LL> <Lat UR> <Long UR>

where <+/-> indicates to use (+) or not to used (-) the sites in
the box specified by the latitude and longitude range.
   <Lat LL> <Long LL> <Lat UR> <Long UR> are the bounding regions
of the area covered with LL--lower left, and UR upper right.  The
latitude and longitude are given in degrees. Longitude are positive
east and can be given as positive or negative values.
For example:  To exclude all sites in Southern California
  use_pos  - 30.0 -125 35.0 -115.

This command is used in conjunction with the standard use_site command.
Specifically is use_site clear is initially specified, then use_pos + ..
command can be used to add sites in different regions, or alternatively
if use_site all is initally given (default) then use_pos - .. can be
used to remove regions.  The use_site command can be used after use_pos
to add or remove specfic sites by name.

 USE_NUM <Number>
Where <Number> is an integer value that specifies the number of times a site
must be used for it to included in the analysis.  The command is applied
after all other use options have been processed, and will result only
in site being removed from the analysis (i.e., if use_site -NAME has
been used to remove site NAME, then it will not be included in the analysis
even if it is used more than <Number> times.  In the same way if use_site +NAME
had been given, but site NAME was used less than <Number> times, it will
NOT be used in the analysis.

 
New parameter estimate commands
-------------------------------
New parameters have in introduced in globk vers 4.12 to allow for
translation rates of change, and scale changes.  For the translations
the new commands replace the amr_tran command (although amr_tran can
still be used).  The new commands are:

 apr_tran <sig X> <sig Y> <sig Z> <sig dX/dt> <sig dY/dt> <sig dZ/dt>

where <sig X> <sig Y> <sig Z> are the apriori sigmas for the X, Y, and Z 
translation parameters (meters) and
      <sig dX/dt> <sig dY/dt> <sig dZ/dt> are the apriori sigmas for the 
dX/dt, dY/dt and dZ/dt translation rate parameters (meters/year).  These
are the new parameters which were not in earlier versions of globk.

 mar_tran <mar X> <mar Y> <mar Z> <mar dX/dt> <mar dY/dt> <mar dZ/dt>  

were <mar X> <mar Y> <mar Z> are the process noise for the translations
(m**2/yr) and
     <mar dX/dt> <mar dY/dt> <mar dZ/dt> are the process noise for the 
translation rates of the changes (m/yr)**2/year.

 apr_scale <sig scale> <sig scale rate>

where  <sig scale> is the apriori sigma for the scale (parts-per-billion,
ppb)
and    <sig scale rate> is the apriori sigma for the scale rate of change
(ppb/yr).

 mar_scale <mar scale> <mar scale rate>

where  <mar scale> is the process noise for the scale (ppb**2/yr) and
       <mar scale rate> is the process noise for the scale rate of change
(ppb/yr)**2/yr.

GLORG run from within GLOBK
---------------------------

A new feature has been added which allows glorg to be run directly
from with in globk.  The feature is invoked using the org_cmd command
(given below) which gives the name of glorg command file.  The following
commands are used with this feature:

 ORG_CMD <glorg command file name>
 
where <glorg command file name> is the name of the command file with
the glorg commands in it (see glorg.hlp)

 ORG_OPT <options list>

where <options list> is the list of options to constrol the glorg 
output.  The most commonly used are BLEN--output baseline lengths
and components,BRAT--Output baseline rates of the change components,
PSUM--Position summary, VSUM--Velocity summary, CMDS--globk command file
summary.

 ORG_OUT <File name>

where <File name> is the name of the output file.  If this command is not 
given, then the output goes to a file name generated by replacing the characters
after the last period (.) in the GLOBK print file name with 'org'.  If there is no 
last period, then .org is appended to the print file name.


GLOBK Version 4.11 Added features:
----------------------------------     

(1) The change to version 4.10 was simply one of increasing the
maximum number of stations and parameters that could be processed.   

(2) With 4.11 (modified in version 4.13), a new command MAX_CHII was introduced 

   MAX_CHII <max chi**2 Increment> <max prefit difference> <max rotation> 

where the three arguments give tolerances on the chi-square increment, change
in a priori parameter values, and allowable pre-solution rotations of a network
before combining a new h-file.  

  <max chi**2 Increment> gives the maximum allowable increment in the chi**2 when 
a new h-file is combined in the solution.  In this version of globk these data 
will not be added to the solution and the solution will continue to run.  The same 
procedure will happen with negative chi**2 increments (which result from numerical 
insatabilities and can be solved often by tightening the apriori constraints and 
reducing the magnitudes of process noise on the stochastic parameters.  More detail 
diagonistic information is now output to the log file if a negative chi**2 increment 
occurrs.  The default value of max_chii is 100.0.   

  <max prefit difference> is maximum difference in the prefit residual for station 
coordinates.  This value also sets the limits for other parameters in globk but with 
the input value internally scaled to provide comparably reasonable tolerances for the 
other parameters.  For EOP, the prefit tolerance is 10 times the surface rotation 
implied by the station coordinates, and for orbital initial position and velocity, 
1000 times the station tolerance.   If the prefit difference exceeds this limit, then 
the estimate for this parameter is not included (row and column removed from the
covariance matrix), or in the case of a station coordinate, all three coordinates
are excluded. The default is 10,000, corrsponding to 10 km for a station position.  
When the aprioris are well known, this value can be set small (e.g., 0.1 for global 
networks with good orbits, corresponding to 10 cm for station position, 32 mas for EOP, 
and 100 in orbital initial position).  

  <max rotation> sets the tolerance for a rotation of the prefit station coordinates 
before they are compared with the current solution.  This check complements the new
feature of globk in which an orientation difference between the stations of the input
h-file and the current is computed.  If this value exceeds <max rotation>, then the
rotation is removed from the station coordinates and added to the EOP parameter estimates
and a message is written to the screen.  The purpose of this feature is to avoid having
to set the Markov values of the EOP parameters inordinately large to handle a few h-files
for which the EOPs of the phase processing had large errors.  For global networks, the
rotation can be determined well from data, so setting a small <max rotation> value 
(e.g. 20 mas) is useful to maintain small Markov values.  For regional networks, the 
rotation is poorly determined, so the tolerance should be kept large to avoid erroneous 
rotations that can cause numerical problems.  The default is 10,000 mas.  


GLOBK Version 4.03 Added features:
----------------------------------
(1) Report_stat calls added to support automatic monitoring scripts
for globk
(2) In version 4.03, J2000 and B1950 hfiles can be mixed but the 
make_svs command must be used to ensure that a single ephemeris file
is generated with the B1950 and J2000 ephemerides differing by only
the rotational terms between J2000 and B1950.
(3) With this release, there is an important, but hopefully transparent
change, in that globk is now a single program rather than the original
from of several linked programs (i.e., globk scheduled glfor, glbak, glout
glsave and glinit to run).  The "segmented" version is still available in
the globk directory and is called globs.  The combined version, pointed
to from the kf/bin directory is saved in the globc directory.  When any
module of globk is remade, it is necessary to re-make in the kf/globc
directory.  The effect of this change is the globk common file (given
with the com_file command) is not written unless the name is given in
the command file.  If the com_file is not written then glorg can not be
run after globk finishes.


GLOBK Version 4.0 New Features:
-------------------------------

With version 4.0 the binary file structure for globk changed considerably
to support carrying the information needed for SINEX files.  This 
additional information increases the size of binary hfiles by about 5%.
As far as known, the new file structure is both foward and backward
compatability and GLOBK Ver 4.0 is backward compatible with the old
binary file structure.  

Several new features and commands have been added with this release.
In Globk, new commands are:
 MAKE_SVS <file name> <Z>
automatically makes the satellite ephemeris file for this solution.
If the optional Z is specified after the file name then the radiation
parameters are set such that the direct radiation is 1.0 and all
the other radiation paramters are zero.  This can have consequences
when small constraints are placed on the radiation parameters.  The
default is not to reset the radiation paramaters (Vers. 4.11).  Use of 
make_svs is the recommended method for getting the ephemeris file.
(It is much more robust than concatinating the ephemeris files from
htoglb and using unify_svs).  The ephemeris elements will be the same
as those in the gfiles used in the original gamit runs (For post-3.2 
htoglb generated binary hfiles; for eariler files the estimated orbital
elements will be used.  When hfiles from the same day are combined,
the elements from the first hfile read will used.
NOTE: <file name> is overwritten with this command if it already exists.
NOTE: This command must be given at the top of the command file.  It falls
in the same class as com_file, srt_file, eq_file and srt_dir commands.

 APR_RAD <DRAD> <YRAD> <ZRAD> <BRAD> <XRAD> <DCOS> <DSIN> <YCOS> <YSIN> <BCOS> <BSIN>

where the 11 values are the apriori sigmas, all dimensionless (i.e, 1.0
is the total solar radiation value), for each of the types of
radiations parameters.  GLOBK checks which radiation parameters are
available in the binary hfiles and will estimate only those that are
available.  If different sets of parameters are used in different
binary hfiles, then all the types used will be set.  These 11 values
can also be added to the APR_SVS command line (after the 6 for position
and velocity of the satellite).

 MAR_RAD <DRAD> <YRAD> <ZRAD> <BRAD> <XRAD> <DCOS> <DSIN> <YCOS> <YSIN> <BCOS> <BSIN>

Similar to the APR_RAD command except for the process noise.  The
process noise units are /year.
A warning message will be printed if the additional 11 elements
are not added to either the apr_svs or mar_svs commands.  If the
apr_rad and mar_rad commands are used, then this warning may be
ignored.

NEW PRT_OPT/CRT_OPT/BAK_OPT forms:
---------------------------------
With version 4.0, these options may be entered in string form.  The
GLORG help gives the 4-character codes for each of the options.  The
bit-mapped integer value form still works.  When the string option
is used in a command file, the codes are blank separated.  When used
in a runstring (for glorg for example), the codes should be separated
by : or = signs, i.e., in a command file the usage would be
 prt_opt blen psum
In a runstring
 glorg test.org blen:psum:cmds glorg.cmd test.com

A new print option has been introduced which allows adjustments to
positions to be printed in a form similar to the velocity summary
(i.e., one line per site with laitude longitude and position adjustments
and sigma.

CHANGES TO OTHER PROGRAMS:
--------------------------
(1) htoglb has been modified to read SINEX files (see help)
(2) glorg has a new "constrain" command which is similar to equate
but the equate is not absolute.
(3) autcln has new features including SNR editing and normal pointing
(see autcln help).
(4) GLRED now allows automatic concatination of binary hfiles using
at + sign at the ends of lines (see glred help).


GLOBK Version 3.3 New Features:
-------------------------------

Version 3.3 has mainly enhancements of existing features and some
improvements to glorg. One new program have been added to aid in 
making apr coordinate files be internally consistent.  Changes in
globk are:
(1) The underscore character can be added at the ends of names to 
force the recognition of blanks in a name.  This is mainly for VLBI
station names where, for example, DSS15 could not be separated from
DSS15_LA.  With the enhancement, DSS15_ can be separated from DSS15_LA
because the trailing _ in DSS15_ is forced to be a blank.
(2) Apriori coordinates for sites and satellites are now written into
the binary hfiles and so if no new apriori coordinates are given in
the apr_file, the apriori from the GAMIT solution will be used.  In
previous versions of globk, the estimated position of the site would
have been used. 
(3) The updating of the covariance matrix when a new satellite ephemeris
epoch is encounted has been changed.  In early versions of globk, the
apr_svs variances were simply added to the covariance matrix. In 3.3
the rows and columns are cleared before the apr_svs variances are 
added to the covariance matrix.  This change means that orbital elements
on satellites can not grow to large values when there is no or poor data
determinations of orbist from previous orbital arcs.
(4) A problem associated with estimated only some components of pole
position and UT1 has been fixed to that h-file with only polar motion
estimated for example but not UT1 are now processed correctly.  It is
still recommended that all or no orientation parameters be estimated
rather than mixing with only some of the components estimated.
(5) Glorg has been enhanced to allow easier specifcation of coordinate
system constraints and to estimate poles of rotation using selected
site's velocities.  See GLORG help for more details.
(6) A new program, unify_apr has been added to help make coordinates
of sites with different names have the same apriori coordinates and
velocity.  See UNIFY_APR help for more details.
(7) The wild-card feature which uses @ to replace parts of the names
of file with the corresponding characters from the gdl file name has
been extented to allow the com_file, srt_file and sol_file to use
the wild-card.  This feature is useful for saving the com_file and 
sol_file (that are needed by glorg) for different analysis strategies
where the gdl file is changed between solutions.  NOTE: When glred is
run, the gdl file name passed to globk is different for each day of
data and so if a wild card is used, then the com_file and sol_file
will be saved for each day.  This could use up a considerable amount
of disk space, and so unless these files are wanted, the wild card
feature should not be used wth glred runs.
(8) The use of F/f in the apr_neu command to fix a coordinate is 
now implemented consistently.


GLOBK Version 3.2 New Features:
-------------------------------
Two new commands have been added to Globk in version 3.2 and there has 
been several bug fixes, improvements to the memory management, and 
enhancements to the output.

New Commands:
=============

 AMR_TRANS    <sig X> <sig Y> <sig Z> <mar X> <mar Y> <mar Z>

This command allows the user to specifically control the estimation of 
the translation of the geodetic coordinate system.  <sig X> <sig Y> and 
<sig Z> are the standard deviations to be assigned to the initial origin 
of the coordinate system [Units m]; and <mar X> <mar Y> and <mar Z> the 
random walk process noise values for the estimations [units: m^2/yr].  
With this command, apparent center of mass shifts can be estimated for 
GPS data.

BAK_PRTS  <CLEAR ALL List of sites ...>

The command allows the user to specify which sites should always be 
printed in the back solution file.  The CLEAR is optional and should 
normally not be used since it will override the internal rules for 
outputting a site.  ALL will select all sites.  The following rules 
apply
for outputting:
--Site positions--: 
All and only sites that are Markov (i.e. mar_neu or mar_site command 
used) or are effected by an earthquake (see EQ_FILE command) will be 
output unless CLEAR is used in the BAK_PRTS commands in which case only 
those sites listed in the BAK_PRT command will be printed independent of 
whether they are Markov or effected by an earthquake.  In all cases, 
only sites that were observed on the day being output will be printed.
--Baselines and baseline components--: 
In general, for a baseline to be printed, both sites in the baseline 
need to pass the criteria to be output.  For baselines to be printed 
bak_opt bit 1 (decimal value 2) must be set.  If only bak_opts 2 is set 
all baselines between sites observed on the day will be printed.  (This 
can become a long list).  Restrictions can be placed on the baselines 
printed with the following options:
bak_opt 2050 (bits 2 and 11 set): Restricts the baselines to only those 
that are effected by an earthquake (including pre and post-seismic 
intervals extended by 2 days so that part of "deterministic" period) or 
are Markov.  Use of BAK_PRTS allows additional sites to be printed that 
do not pass the earthquake or markov rules.  Also the bak_prts sites are 
printed even when they do not occurr on a given day.  (All other 
baselines must appear on the day).

.....................................................................
EQ_FILE <file name>

The new file contains commands that can be used to tell globk about 
earthquakes and what to do when one is encountered.  There is also a 
general command included for renaming sites (useful for un-doing htoh 
runs used in the past to account for earthquakes.
NOTE: This command falls in the group of commands that must be issued at 
the top of the globk command file because it effects the names of the 
sites that will be used in interpreting subsequent commands.

With in the EQ_FILE the following commands may be used:  (They can not 
be used in the globk command file).  An example of the EQ_FILE is given 
below.  In the standard version (parameter max_eq in kalman_param.h), 
parameters for 128 earthquakes can be specified in a single run.

EQ_DEF <Code> <Lat> <Long> <Radius> <Depth> <epoch>

This command defines the Earthquake.  The arguments are:
<Code> a two letter code which is used (optionally) in renaming sites 
and identifying this earthquake in subsequent commands. NOTE: the code 
can not be the same as the last two letters of any site effected by the 
earthquake.  Specially PS can never be used as a code. NOTE: This 
command must be issued before others referring to the Earthquake and the 
same code may not be used twice.
<Lat> and <Long> are the geodetic latitude and longitude of the center 
of rupture plane (approximately) in decimal degrees for the WGS84 
ellipsoid. 
<Radius> is the radius over which the Earthquake is assumed to have some 
effect.  Radii are computed as the chord distance from the lat, long and 
depth of the Earthquake to sites. NOTE:  For an earthquake to have an 
effect, the radius must be greater than the depth.  [Units: km]
<Depth> is the "depth" to the earthquake.  No station will (in general) 
be closer to the earthquake than its depth.  The depth is the negative 
of the ellipsoid height of the Earthquake (i.e, the value is positive).
The Depth is used for scaling the spatially dependent quantities 
discussed below. [Units: km]
<epoch>  Time of the earthquake entered as year month day hour min (all 
separated by blanks.  The experiment epoch of the data is used to test 
if the data is before or after the earthquake.  (For one-day hfiles, the 
experiment epoch is the middle of the data; for combined global files it 
is usually the middle of the last day of data in the combined file.  If 
srt_dir -1 was used in the globk run generating the combined file, the 
experiment epoch will be at the start of the data set.)

EQ_RENAM <Code>

This command tells globk to rename the sites effected by the earthquake 
by replacing the last two letters of the site name by the code for the 
Earthquake.  This command can be used in conjunction with the stochastic 
options discussed below.  For generating apriori coordinate files, this 
is the preferred option. NOTE:  If no apriori coordinate and velocity is 
in the apr_file for globk for the renamed site, the values for the 
original site will be used.

EQ_COSEI <Code> <Static Sigmas NEU> <Spatially dependent Sigmas NEU>

The command specifies the stochastic treatment of sites effected by the 
earthquake.  (If the command is not issued there will be no stochastic 
variations at the time of the Earthquake.  (If the sites are renamed 
then this command is not needed, but can still be used to achieve the 
effect discussed below.  The arguments are:
<Code> for the earthquake (to get the parameters for earthquake in the 
eq_def command.
<Static Sigmas NEU> these are three values separated by spaces that give 
the standard deviation of the displacements (in meters) expected at the 
time of the earthquake (i.e., apriori standard deviation of the 
coseismic displacements.)  These values will be applied to all sites.
<Spatially dependent Sigmas NEU> these are three values separated by 
spaces that give the spatially dependent standard deviations.  The 
standard deviation a site is computed using:
     Sig = SigSpatial*(depth/dist)^2
where Sig is the computed sigma, SigSpatial is the sigma given in the 
command, depth is the depth of the Earthquake and dist is the distance 
the site is from the Earthquake.  
Units: on all sigmas is meters.
NOTE:  When the rename and coseismic features are used together, the 
covariance matrix elements and solution for the site name before the 
earthquake (which itself may have renamed from previous earthquakes) are 
copied to the new site name before the coseismic standard deviations are 
added.  The coseismic sigmas are not applied to the old site name.  
WARNING.  When the combination of rename and coseismic are used, the 
apriori coordinates and velocities of the two site names should be the 
same unless you are want to constrain the incremental adjustment to a 
dislocation model for example.  It the renamed site does not appear in 
the apriori file, then globk will automatically do this.
NOTE: When the rename and coseismic features are used together, a 
**NOTE** may be printed during the globk run saying that the original 
site name of a renamed site could not be found.  This will occur for all 
sites that are used only after an earthquake.  The Note can be ignored 
if this is the case.

EQ_PRE <Code> <dur> <Static Markov NEU> <Spatially dependent Markov NEU>

This command allows the specification of random walk parameters to be 
applied before the earthquake.
<Code> is the earthquake code.
<dur> is the number of days before the earthquake to start the process 
noise.  The estimates will be output for up to 2 days before the start 
of the process when a back solution is run. (Units: days)
<Static Markov NEU> three values that give the process noise parameters 
in North, East and Up to be applied equally to all stations.  The units 
are mm^2/day and the process is a random walk, i.e., after n days the 
process noise 
<Spatially dependent Markov NEU> three values hat give the process noise 
parameters in North, East and Up to be applied in a spatially dependent 
fashion.  (Same spatial dependence as the coseismic displacements except 
squared since the variance is specified in the process noise).
NOTE: When the rename feature is used, the preseismic process noise is 
not applied to the new site name (i.e, the site name used after the 
earthquake).

EQ_POST <Code> <dur> <Static Markov NEU> <Spatially dependent Markov 
NEU>

This command allows the specification of random walk parameters to be 
applied after the earthquake.  The command and specifications are 
exactly the same as EQ_PRE except this process is applied after the 
earthquake.  If the rename option is used then the process noise will 
not be applied to the old site name.

EQ_LOG <Code> <tau (days)> <static NEU sigma (m)> <Spatial sigma NEU>

This command allows the specification of a log parametric fit to the
position estimates after an earthquake with code <code>.  The model
used is the same as the one in enfit and tsview.  The parametric
form is ln(1+dt/tau) where dt is the time after the earthquake.  The
interpretation of the sigmas is the same as for eq_cosei.  The positions
output by globk have the log contribution included (and therefore give
the instantaneous position).  Log terms are extracted as part of the 
apriori model when sh_exglk is used with the -apr option.  Normally, eq_post
would not be used when eq_log is used.  The log terms can be extracted
with sh_exglk with the -log option.  (The log term lines in the globk
outout all start with the string LOG).  

RENAME <Orig Site name> <New site name> [hfile code]  <epoch range> <Position change>

The command, while not directly related to earthquakes, appears in the 
eq_file because it involves renaming sites and is useful for un-doing 
previous htoh runs used previously to treat earthquakes.  The command 
arguments are:
<Orig Site name> Original site name that appears in the binary h-files,
<New site name> New name for the site (Should not conflict with other 
names in the binary h-files).

The following arguments are optional.
[hfile code]  a string that must appear in the name of the h-file 
for the rename to be applied.  This argument may be omitted since
globk can distinguish whether the third argument is a string or a 
number (epoch range); however, the string may not be entirely numerical.
More than one set of h-files can be included by issuing the command
multiple times with the same site names and epoch range. 
It is useful for renaming sites during combinations of experiments on
the same day when there is a name conflict between sites in the
individual h-files [Feature Added at 4.15 11/12/97].
<epoch range> range of time over which the rename will be applied.  
Specified as a pair of year month day hour min values (all separated by 
spaces).  Any hfile in which the start date is after the first date and 
the end date in before the second date given will have the site renamed.
<Position change> is an optional position change to accompany the name 
change.  The position change is either XYZ or NEU (three values) 
followed by a type declaration (XYZ or NEU).  If no type is given, XYZ 
is assumed.  Units are meters and the change should move the site from 
the original position to the new position.  North, East and Up (NEU) are 
defined as North along (the ellipsoidal) meridian direction at the 
apriori coordinate of the new site name, East along the East longitude 
direction, and ellipsoidal height.  The rotation matrix is defined by 
these directions and the NEU are rotated to XYZ using this rotation 
matrix.
NOTE: The renames are applied before any earthquake processing, so names 
generated from earthquakes use the new site name.

EXAMPLE of EQ_FILE:
+++++++++++++++++++

*----------------------------------------------------------------------
* Example of earthquakes and renames
* The following renames undo the htoh runs for Landers.
  rename  mojave1b mojave12
  rename  ds1b_gps ds10_gps
  rename  gold_gps ds10_gps
  rename  jplb_gps jplm_gps
  rename  sioc_gps sio2_gps
  rename  vndo_gps vndp_gps
  rename  pinb_gps pin1_gps

* Example of moving a GPS site to a VLBI site location.  The tie is from
* ITRF-1990.
  rename  aron_gps algopark 92 5 1 0 0 92 8 30 0 0  -94.7630  -61.0170  -6.6660  XYZ
* Example to show a height change.  The height change is dual frequency
* combination.  (This correction would move from the phase center to the 
* ground mark, i.e, zero height was used in the original processing.)
  rename  hart_gps hart_gps 90 1 1 0 0 92 8 30 0 0  0.0  0.0  -9.8013 NEU 
                      
* Correct for differences in antenna phase-enter models between regional
* and global processing:    
  rename math_gps math_aps  igs  93  4 14 0 0   94 11 10 00    
  rename math_gps math_aps  pgga 93  4 14 0 0   94 11 10 00 

* The Lander's earthquake.  Here are using the spatially dependent
* versions.  The coseismic displacement sigma 100 km from the earthquake
* origin is 72 mm horizontal and 28 mm vertical in this case.  For the 
* Markov process the values correspond to 1.6 mm^2/day for all three 
* components.  (The parameters here were computed approximately from 
* dislocation models of Landers).  Landers/Big Bear has a moment of 
* 1x10^20 N-m, and Ms 7.5) 
* 
  eq_def    LA  34.45 -116.50  500   20  92 6 28 12 0
  eq_renam  LA
  eq_cosei  LA     0.000 0.000 0.000     1.8    1.8    0.7  
  eq_pre    LA  30 0.000 0.000 0.000  1000.0 1000.0 1000.0
  eq_post   LA  30 0.000 0.000 0.000  1000.0 1000.0 1000.0

* Other earthquakes could be defined here.  If pre-seismic or 
* post-seismic process noise overlap from different earthquakes
* then both sets of process noise are added.
*----------------------------------------------------------------------

.....................................................................


ENHANCEMENT OF EXISTING FEATURES IN GLOBK Ver 3.2
=================================================

(1) Experiment variance specification.  The .gdl file format has been 
extended to allow the specification of a variance scaling factor on 
individual h-files.  If not value is given, then a scaling of 1 is used.
Example:
/data11/tah/glbg/h92060111a.gld     1.000
/data11/tah/glbg/h92060211a.gld     3.076
/data11/tah/glbg/h92060611a.gld     4.328
/data11/tah/glbg/h92060711a.gld     7.072
In this case the scales were derived from the pre-fit chi**2 increments 
for a forward solution. (grep and awk were used to generate the file 
from the globk log file.

(2) Use of default file names for the com_file, srt_file and sol_file 
now works correctly for both globk and globc.  Therefore if these files 
are not specified the defaults will be used.  

(3) Globk now used full dynamical memory allocation so it uses only the 
memory it needs.  The memory is allocated after the list of global files 
has been printed (glinit run).  If there is sufficient memory at that 
time, then the rest of run will have enough memory.  A small message is 
printed saying the amount of memory allocated.

(4) Warning messages are now printed at the start of the globk run if 
there is no apriori site coordinate for a site in the apriori file.  
(This message is printed if globk could construct an apriori coordinate 
from renamed and earthquake sites.)  The apriori coordinate used when 
there is none in the apriori file, is the estimated position from the 
last binary h-file in which the site was used.

(5) Reading of the svs_file has been modified so that the whole file is 
read.  Consequently, when there are duplicate entries, the last entry 
found will be used.  (In Ver 3.1 the first entry would have been used).  
This change was made so that when regional and global h-file that 
contain different satellites are used and the svs_file has not had 
unify_svs run on it, all the satellite elements should be found.

(6) Multiple apriori coordinate files can now be specified with each one 
possibly overwriting the results from previous ones.  This feature has 
been added so that all earthquake effected sites can be in one file so 
that if we don't want to use the updated coordinates, the second file 
need not be specified.  (max_apr_files sets the maximum number, standard 
value is 10 files.)


</pre>
</body>
</html>
